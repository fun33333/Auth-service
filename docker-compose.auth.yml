services:
  # Removed local postgres-auth (using shared erp_postgres)
  # Removed local redis-auth (unused)



  # Auth Service
  auth-service:
    build: .
    container_name: auth_service
    env_file:
      - ../.env
    environment:
      - DEBUG=True
      - DATABASE_URL=${AUTH_DATABASE_URL}
    ports:
      - "8000:8000"
    volumes:
      - ./src:/app
    networks:
      - erp_network # Attach to shared network
    # depends_on:
    #   - erp_postgres # (External dependency, compose might warn if not found in this file, managed via network connectivity)
    restart: unless-stopped

networks:
  erp_network:
    external: true # Use the shared network created by infra

# volumes:
#   auth_postgres_data:
#   auth_redis_data:
